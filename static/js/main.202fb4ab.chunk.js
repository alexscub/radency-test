(this["webpackJsonpradency-test"]=this["webpackJsonpradency-test"]||[]).push([[0],{14:function(e,a,n){},15:function(e,a,n){},21:function(e,a,n){"use strict";n.r(a);var r=n(0),i=n.n(r),t=n(5),o=n.n(t),c=(n(14),n(4)),s=(n(15),n(16),n(6)),b=n.n(s),l=n(2),m=n(9),u=n(7),d=n(1);var v=function(e){var a=e.columns,n=e.data,r=e.getCellProps,i=Object(u.useTable)({columns:a,data:n}),t=i.getTableProps,o=i.getTableBodyProps,c=i.headerGroups,s=i.rows,b=i.prepareRow;return Object(d.jsxs)(m.a,Object(l.a)(Object(l.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},t()),{},{children:[Object(d.jsx)("thead",{className:"sticky",children:c.map((function(e){return Object(d.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(d.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(d.jsx)("tbody",Object(l.a)(Object(l.a)({},o()),{},{children:s.map((function(e){return b(e),Object(d.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(d.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps([{className:e.column.className,style:e.column.style},r(e)])),{},{children:e.render("Cell")}))}))}))}))}))]}))},f=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],h=function(e){return e.split("|").map((function(e){if(2===e.length)return e;var a=f.find((function(a){return a.name.toLowerCase()===e.toLowerCase()}));return a?a.abbreviation:e})).join(", ")},p={name:function(e){return!!e},age:function(e){return!!e&&(+e>=21&&Number.isInteger(+e))},experience:function(e,a){return!!e&&(+e>=0&&+e<+a.find((function(e){return"age"===e.column.id})).value-21)},income:function(e){return!!e&&(+e>=0&&+e<1e6)},number:function(e){return!!e&&(e&&6===e.toString().length)},children:function(e){return"TRUE"===e||"FALSE"===e||""===e},phone:function(e){return!!e&&e.match(/^\+1\d{10}$|^1\d{10}$|^\d{10}$/)},expiration:function(e){return!!e&&(e.match(/^\d{4}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$|^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/)&&Date.parse(e)>Date.now())},email:function(e){return!!e&&(e=""+e).trim().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}},j=function(e){return e.match(/^1\d{10}/)?"+"+e:e.match(/^\d{10}/)?"+1"+e:e};var O=function(){var e=i.a.useMemo((function(){return[{Header:"ID",accessor:"id"},{Header:"Full Name",accessor:"name"},{Header:"Phone",accessor:"phone",Cell:function(e){var a=e.value;return j(a)}},{Header:"Email",accessor:"email"},{Header:"Age",accessor:"age"},{Header:"Experience",accessor:"experience"},{Header:"Yearly Income",accessor:"income",Cell:function(e){var a=e.value,n=parseFloat(a);return n?n.toFixed(2):a||""}},{Header:"Has children",accessor:"children",Cell:function(e){var a=e.value;return""===a?"FALSE":a}},{Header:"License states",accessor:"states",Cell:function(e){var a=e.value;return h(a)}},{Header:"Expiration date",accessor:"expiration"},{Header:"License number",accessor:"number"},{Header:"Duplicate with",accessor:"duplicate"}]})),a=Object(r.useRef)(null),n=Object(r.useState)(null),t=Object(c.a)(n,2),o=t[0],s=t[1],l=Object(r.useState)(null),m=Object(c.a)(l,2),u=m[0],f=m[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("input",{className:"File",id:"file",ref:a,type:"file",onChange:function(n){n.preventDefault(),f(null);var r=a.current.files[0];b.a.parse(r,{header:!0,transformHeader:function(a){return function(a){var n=e.find((function(e){return e.Header.trim().toLowerCase()===a.toLowerCase()}));return n?n.accessor:"error header"}(a)},complete:function(e){var a=e.data;if(e.errors.length>0)return f("File format is not correct");var n=e.meta.fields;if(!n.includes("name")||!n.includes("phone")||!n.includes("email"))return f("File is not correct");a.forEach((function(e,a){e.id=a+1})),a.map((function(e,n){var r=a.find((function(a,r){var i=a.email.trim().toLowerCase()===e.email.trim().toLowerCase()&&r!==n,t=j(a.phone.trim())===j(e.phone.trim())&&r!==n;return i||t}));r&&(e.duplicate=r.id)})),s(a)}})}}),Object(d.jsxs)("label",{className:"customFile",htmlFor:"file",children:[Object(d.jsx)("span",{className:"filename",children:a&&a.current?a.current.files[0].name:"Choose your csv to parse"}),Object(d.jsx)("span",{className:"browseButton",children:"Browse"})]}),u&&Object(d.jsx)("p",{className:"error",children:u}),o&&!u&&Object(d.jsx)(v,{columns:e,data:o,getCellProps:function(e){console.log(e.value);var a=""+e.value;return p[e.column.id]&&!p[e.column.id](a.trim(),e.row.cells)?{style:{backgroundColor:"#f79494"}}:{style:{}}}})]})};o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.202fb4ab.chunk.js.map